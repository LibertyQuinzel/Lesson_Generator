{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Topic Configuration",
  "description": "Schema for defining lesson topics and their properties",
  "type": "object",
  "properties": {
    "name": {
      "type": "string",
      "description": "Unique identifier for the topic",
      "pattern": "^[a-z][a-z0-9_]*$",
      "minLength": 2,
      "maxLength": 50,
      "examples": ["async_programming", "design_patterns", "testing_strategies"]
    },
    "title": {
      "type": "string",
      "description": "Human-readable title for the topic",
      "minLength": 5,
      "maxLength": 100,
      "examples": ["Asynchronous Programming in Python", "Design Patterns and Architecture"]
    },
    "description": {
      "type": "string",
      "description": "Brief description of what the topic covers",
      "minLength": 20,
      "maxLength": 500
    },
    "difficulty": {
      "type": "string",
      "enum": ["beginner", "intermediate", "advanced"],
      "description": "Target difficulty level for the lesson"
    },
    "estimated_hours": {
      "type": "integer",
      "minimum": 1,
      "maximum": 40,
      "description": "Estimated time to complete the lesson in hours"
    },
    "prerequisites": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "List of prerequisite topics or skills",
      "examples": [["basic_python", "oop_concepts"]]
    },
    "learning_objectives": {
      "type": "array",
      "items": {
        "type": "string",
        "minLength": 10,
        "maxLength": 200
      },
      "minItems": 3,
      "maxItems": 8,
      "description": "Specific learning objectives for the lesson"
    },
    "key_concepts": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "minItems": 3,
      "maxItems": 15,
      "description": "Main concepts and topics covered in the lesson"
    },
    "programming_language": {
      "type": "string",
      "enum": ["python", "javascript", "java", "csharp", "go", "rust"],
      "default": "python",
      "description": "Primary programming language for the lesson"
    },
    "modules": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/module"
      },
      "minItems": 3,
      "maxItems": 8,
      "description": "Individual modules that make up the lesson"
    },
    "tags": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Tags for categorizing and searching topics"
    },
    "resources": {
      "type": "object",
      "properties": {
        "documentation_links": {
          "type": "array",
          "items": {
            "type": "string",
            "format": "uri"
          }
        },
        "example_repositories": {
          "type": "array",
          "items": {
            "type": "string",
            "format": "uri"
          }
        },
        "additional_reading": {
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      }
    }
  },
  "required": [
    "name",
    "title", 
    "description",
    "difficulty",
    "estimated_hours",
    "learning_objectives",
    "key_concepts",
    "modules"
  ],
  "definitions": {
    "module": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "pattern": "^[a-z][a-z0-9_]*$",
          "description": "Module identifier"
        },
        "title": {
          "type": "string",
          "description": "Human-readable module title"
        },
        "type": {
          "type": "string",
          "enum": ["starter", "assignment", "advanced", "project"],
          "description": "Type of module content"
        },
        "focus_areas": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Specific areas this module focuses on"
        },
        "complexity": {
          "type": "string",
          "enum": ["simple", "moderate", "complex"],
          "description": "Relative complexity within the topic"
        },
        "estimated_time": {
          "type": "integer",
          "minimum": 15,
          "maximum": 480,
          "description": "Estimated time for module in minutes"
        },
        "includes_tests": {
          "type": "boolean",
          "default": true,
          "description": "Whether to generate test files for this module"
        },
        "code_examples": {
          "type": "integer",
          "minimum": 1,
          "maximum": 10,
          "default": 3,
          "description": "Number of code examples to generate"
        }
      },
      "required": ["name", "title", "type", "focus_areas", "complexity"]
    }
  }
}